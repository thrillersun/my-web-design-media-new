(()=>{"use strict";var __webpack_modules__={520:(e,t,i)=>{var n=i(495),s=i(636),r=i(696),o=i(872),a=i(720),l=i(692);t.languageMap=n.languageMap,t.languages=n.languages,Object.defineProperty(t,"ValidationMatch",{enumerable:!0,get:function(){return s.ValidationMatch}}),t.isValidEmail=s.isValidEmail,t.isValidWildcardEmail=s.isValidWildcardEmail,t.isValidRedirectUrl=r.isValidRedirectUrl,t.isValidUrl=r.isValidUrl,t.isValidPhoneNum=o.isValidPhoneNum,t.isValidNum=a.isValidNum,t.isAllPrintableAsciiChars=l.isAllPrintableAsciiChars},495:(e,t)=>{t.languageMap={english:"English",spanish:"Spanish",french:"French",german:"German",italian:"Italian",japanese:"Japanese",korean:"Korean",portugueseBrazil:"Portuguese Brazil",chineseTraditional:"Chinese Traditional",chineseSimplified:"Chinese Simplified"},t.languages=["english","spanish","french","german","italian","japanese","korean","portugueseBrazil","chineseTraditional","chineseSimplified"]},636:(e,t)=>{var i;t.ValidationMatch=void 0,(i=t.ValidationMatch||(t.ValidationMatch={}))[i.emailMatch=0]="emailMatch",t.isValidEmail=e=>{try{return/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e)}catch(e){return!1}},t.isValidWildcardEmail=e=>{try{return/^[a-zA-Z0-9_\*.+-]+@[a-zA-Z0-9-\*]+\.[a-zA-Z0-9-\*.]+$/.test(e)}catch(e){return!1}}},692:(e,t)=>{t.isAllPrintableAsciiChars=e=>0===e.split("").filter((e=>{const t=e.charCodeAt(0);return t<32||t>126})).length},720:(e,t)=>{t.isValidNum=(e,t)=>{if(void 0===e)return!0;const{min:i,max:n}=t||{};return!(void 0!==i&&e<i)&&!(void 0!==n&&e>n)}},872:(e,t)=>{t.isValidPhoneNum=(e,t)=>{try{const i=new e.AsYouType;return i.input(t),i.isValid()}catch(e){return!1}}},696:(e,t)=>{t.isValidRedirectUrl=e=>{try{return/^[#]$|\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&@#\/%?=~_|!:,.;]*[-a-z0-9+&@#\/%=~_|]/i.test(e)}catch(e){return!1}},t.isValidUrl=e=>{try{return/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&@#\/%?=~_|!:,.;]*[-a-z0-9+&@#\/%=~_|]/i.test(e)}catch(e){return!1}}},500:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(520),s=i(716),r=(e="",t)=>e.replaceAll(/{(.*?)}/g,(e=>t[e.slice(1,-1)].toString()));t.default=class{labels;latinCharacterRestrictionErrorMessage;latinCharacterRestriction;constructor(e,t){this.labels=e,this.latinCharacterRestrictionErrorMessage=this.labels.latinCharacterRestrictionError,this.latinCharacterRestriction=t}validateNonLatinCharacters(e){return!!this.latinCharacterRestriction&&!(0,n.isAllPrintableAsciiChars)(e)}generateError(e,t,i){const{required:n,minChar:o,maxChar:a,id:l,hidden:c}=t,d=t?.type,{min:u,max:h}=t;if(n&&("checkbox"===d&&0===e.length||!e))return[l,this.labels.required];if("multi-line-text"===d||"single-line-text"===d){if(void 0!==o&&e.length<o)return[l,r(this.labels.minLength,{minChar:o})];if(void 0!==a&&a<e.length)return[l,r(this.labels.maxLength,{maxChar:a})]}else if("number"===d){if(void 0!==u&&e<u)return[l,r(this.labels.min,{min:u})];if(void 0!==h&&h<e)return[l,r(this.labels.max,{max:h})]}if(e)if("url"===d){if(!/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&@#\/%?=~_|!:,.;]*[-a-z0-9+&@#\/%=~_|]/i.test(e))return[l,this.labels.url]}else if("email"===d&&!/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e))return[l,this.labels.email];if("phone"===d){if(c)return[];const[r]=i[t.id].children[0].value.split("-");if(!!r!=!!e)return[l,this.labels.required];if(!n&&!r&&!e)return[];if(!s.phoneLib.get().isValidNumber(e))return[l,this.labels.phoneFormatMatch]}return["multi-line-text","single-line-text","url","email"].includes(d)&&this.validateNonLatinCharacters(e)?[l,this.latinCharacterRestrictionErrorMessage]:[]}generateErrors(e,t,i){const n=[];for(const s of e){const e=this.generateError(t[s.name],s,i);e.length>0&&n.push(e)}return n}}},976:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(i(500)),a=r(i(684)),l=i(340),c=r(i(580)),d=i(196),u=i(64),h=i(704),m=i(716),f=i(68),p=i(952),g=i(668),b=i(632),_=r(i(536));let y=class{validations;conditionalLogic;form;formId;provider;settings;build;submitUrl;allInputs;allIds;hiddenByLogic=new Set;allElementsBy={};errorHandler;gtmOptions;fetch=fetch;tracking;interactionObj;formElem;labels;englishLabels;constructor(e,t){this.form=e.form;const{id:i,handler:{name:n},settings:s,build:r}=this.form;this.settings=s,this.formId=i,this.provider=n,this.build=r,this.formElem=t,this.submitUrl=e.submitUrl,this.labels=e.labels,this.englishLabels=e.englishLabels,(0,b._setupPageUrlField)(this.formElem),this.interactionObj={uniqueId:e.uniqueId,form:new h.FormApi(e,{formElem:t,onChange:this.handleElementValueChange})},this.allInputs=this.interactionObj.form.allInputs,this.allIds=this.build.map((e=>e.id)),this.allElementsBy=this.interactionObj.form.allElementsBy,this.errorHandler=new o.default(this.labels,this.settings.latinCharacterRestriction),this.validations=new _.default(this.allElementsBy),this.conditionalLogic=new c.default(this.build,this.allElementsBy,this.hiddenByLogic,this.validations,e.optionLists),this.attachPhoneEventListeners(),this.formElem.addEventListener("change",this.handleEventInteraction.bind(this)),this.formElem.addEventListener("submit",this.handleFormSubmission.bind(this)),(0,u.setOverrides)(this.allIds,this.allElementsBy),this.formElem.classList.remove("visibility-hidden"),this.interactionObj.form.emit("ready",this.interactionObj),this.form.settings.captcha&&(this.saveForm=(0,l.conditionalRecaptcha)(this.saveForm,e)),this.gtmOptions=(0,a.default)(this.formElem,this.form),this.form.build.some((e=>"phone"===e.type))&&m.phoneLib.retrieve()}handleEventInteraction(e){this.handleElementValueChange(e.target)}handleFormSubmission(e){e.preventDefault(),this.submit(e.submitter)}handleElementValueChange(e){const t=(0,b.getElementContainingId)(e).dataset.id,{type:i,node:n,fieldConfig:s,children:r}=this.allElementsBy[t];if(d.textInputElements.includes(i)){const e=n;e.value=(0,p.removeEmojis)(e.value).trim()}else d.elementsTypesWithConditionalLogic.includes(i)&&(this.conditionalLogic.applySpecificFieldChange(t),this.conditionalLogic.handleOptionChange(t));if("phone"===i){const[t,i]=r;if(e.dataset.touched="true",!t.dataset.touched||!i.dataset.touched)return}const o=(0,p._generateDataValue)(s,new FormData(this.formElem)),a=this.errorHandler.generateError(o,s,this.allElementsBy);a.length>0?this.validations._showValidations(t,a[1]):this.validations._hideValidations(t)}_generateDataSubmission(e){const t=new FormData(this.formElem),i={};e.forEach((e=>{const n=e.name;i[n]=(0,p._generateDataValue)(e,t)}));return(0,p.sanitizeBody)(e,i)}async submit(e){const t=this.allInputs.filter((e=>!this.hiddenByLogic.has(e.id))),i=this._generateDataSubmission(t),n=this.errorHandler.generateErrors(t,i,this.allElementsBy);n.length>0?n.forEach((([e,t])=>this.validations._showValidations(e,t))):await this.saveForm(i,e,{Provider:this.provider,"Form-Id":this.formId})}generateHandlerUrl(){const e=new URL(this.submitUrl),t={provider:this.provider,formId:this.formId},i=new URLSearchParams([...Array.from(e.searchParams.entries()),...Object.keys(t).map((e=>[e,t[e]]))]).toString();return new URL(`${e.origin}${e.pathname}?${i}`).href}async saveForm(e,t,i){if(this.interactionObj.form.emit("submit",this.interactionObj),this.gtmOptions.triggerSubmit(),t.disabled=!0,this.resetErrorMessages(),!this.submitUrl)return void this.submissionSuccess();const n=this.generateHandlerUrl();return this.fetch(n,{method:"POST",body:JSON.stringify(e),headers:{...i}}).then((e=>e.json()))}resetErrorMessages(){this.formElem.getElementsByClassName("submission-error-message")[0].innerHTML=""}submissionSuccess(){const{redirectURL:e,confirmationMessage:t,type:i}=this.settings.submissionBehavior;if("message"===i&&t)this.formElem.innerHTML=`<p class="confirmation-message">${t}</p>`;else if("redirect"===i&&e)if("#"===e){const e=new CustomEvent("fb-submission");window.dispatchEvent(e),location.reload()}else window.open(e,"_self","noopener,noreferrer")}_recalculatePhoneInput(e){const[t,i]=e.children,n=t.options[t.selectedIndex].dataset.callingCode;i.value=m.phoneLib.get().generateFormatedNationalNumber(n,i.value,t.value),t.parentElement.dataset.content=n?`(+${n})`:"-"}handlePhoneFieldsetChange(e,t){const i=(0,b.getElementContainingId)(e.target),n=this.allElementsBy[i.dataset.id];"phone"===n.type&&e.target.tagName===t&&this._recalculatePhoneInput(n)}attachPhoneEventListeners(){this.formElem.addEventListener("change",(e=>this.handlePhoneFieldsetChange(e,"SELECT"))),this.formElem.addEventListener("input",(e=>this.handlePhoneFieldsetChange(e,"INPUT")))}};n([f.nrEvent,s("design:type",Function),s("design:paramtypes",[Event]),s("design:returntype",void 0)],y.prototype,"handleEventInteraction",null),n([f.nrEvent,s("design:type",Function),s("design:paramtypes",[SubmitEvent]),s("design:returntype",void 0)],y.prototype,"handleFormSubmission",null),n([g.handleSubmissionResponse,s("design:type",Function),s("design:paramtypes",[Object,HTMLButtonElement,Object]),s("design:returntype",Promise)],y.prototype,"saveForm",null),n([f.nrEvent,s("design:type",Function),s("design:paramtypes",[Event,String]),s("design:returntype",void 0)],y.prototype,"handlePhoneFieldsetChange",null),y=n([f.nrSetup,s("design:paramtypes",[Object,HTMLFormElement])],y),t.default=y},684:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=(e,t)=>{const i=t.build,n={},s=window.dataLayer=window.dataLayer||[],r=e.querySelector('input[name="formType"]'),o=e.closest(".bbg-row"),{pageSection:a,pageSectionDesc:l}=o?.dataset||{},c={focus:'input,select,textarea,.tooltip,button[type="submit"]',input:'input:not([type="checkbox"],[type="radio"]),textarea',mouseenter:".tooltip",change:'select,input[type="checkbox"],input[type="radio"]',click:'button[type="submit"],a'},d=i.reduce(((e,t)=>(t.id&&(e[t.id]=t),e)),{});for(const i in c)e.addEventListener(i,(function(e){let o=e.target;if("string"==typeof c[i]&&o.matches(c[i])){let c;"A"===o.tagName&&(c=e.target.href,o=o.closest("[data-id]"));const u=o.dataset.id,h=d[u],m=o.classList.contains("tooltip")?"tooltip":h?.type,f=`${u}-${m}-${i}${c?`:${c}`:""}`;if(n[f])return;n[f]=!0,s.push({event:"form_field_interaction",form_name:t.name,form_type:r?.value||"",interaction_type:`${m} ${i}${c?`:${c}`:""}`,form_field_name:h?.label,form_field_position:`${h?.layout.row+1},${h?.layout.column+1}`,section_name:a||"",section_description:l||""})}}),!0);const u={lastModified:"",interactions:new Set};let h=window?.__SECTION_VIEW__||"Body";const m=e.closest("[data-page-scroll-section]");m?.dataset.pageScrollSection&&(h=m?.dataset.pageScrollSection);const f=function(){""!==u.lastModified&&s.push({event:"formAbandonment",eventCategory:"Form Abandonment",lastField:u.lastModified,fieldCount:u.interactions.size},{event:"form_abandonment",form_name:t.name||"",form_type:r?.value||"",form_location:a,last_field_interacted_with:u.lastModified,number_of_field_interacted:u.interactions.size,section_name:h})};return window.addEventListener("beforeunload",f,{once:!0}),e.addEventListener("change",(function(e){u.lastModified=e.target.getAttribute("name"),u.interactions.add(u.lastModified)})),e.addEventListener("change",(function(){window.dataLayer.push({event:"form_start",form_name:t.name||"",form_type:r?.value||"",form_location:a,section_name:h})}),{once:!0}),{triggerSubmit:()=>{window.removeEventListener("beforeunload",f),window.dataLayer.push({event:"form_complete",form_name:t.name||"",form_type:r?.value||"",form_location:a||"",section_name:h},{event:"gtm.bbgformSubmit","form-location":a})}}}},844:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(976)),r=i(704),o=window.fba?.forms||r.formsApi;window.fba={forms:o,init:window.fba?.init||(e=>{const t=document.querySelector(`.${e.uniqueId}`);if(!t)throw new Error("The Form markup is not present in the page yet");const i=new s.default(e,t);return o.set(e.uniqueId,i.interactionObj),i})},window.dispatchEvent(new CustomEvent("onFBAReady",{detail:{forms:o}}))},576:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class i{static instance;form;notifiedResponse;constructor(e,t){if(i.instance)return i.instance;this.form=e,this.notifiedResponse=t}_createNotifiedErrorMessage(e){const t=this.form.labels,i=this.form.englishLabels,{webinarType:n,successfulRegistrationList:s,failedRegistrationList:r,repeatedRegistrationList:o}=e;let a="",l="",c="";Object.keys(e).length?(r?.length&&(l="series"===n?t.notifiedSeriesSubmission||i.notifiedSeriesSubmission:t.notifiedSingleSubmission||i.notifiedSingleSubmission),o?.length&&(c="series"===n?t.notifiedSeriesRepeatedSubmission||i.notifiedSeriesRepeatedSubmission:t.notifiedSingleRepeatedSubmission||i.notifiedSingleRepeatedSubmission),(r?.length||o?.length)&&s?.length&&"series"===n&&(a=t.notifiedSuccessfulSeriesSubmission||i.notifiedSuccessfulSeriesSubmission)):l=t.notifiedSingleSubmission?t.notifiedSingleSubmission:i.notifiedSingleSubmission;this.form.formElem.getElementsByClassName("submission-error-message")[0].innerHTML+=`\n    ${a?`<div>${a} \n                    <ul>\n                        ${s.map((e=>`<li>${e}</li>`)).join("\n")}\n                    </ul>\n                </div>`:""}\n    ${c?`<div>${c}\n                    ${o?.length&&"series"===n?`<ul>\n                                ${o.map((e=>`<li>${e}</li>`)).join("\n")}\n                            </ul>`:""}\n                        </div>`:""}\n    ${l?`<div>${l} \n                ${r?.length&&"series"===n?`<ul>\n                            ${r.map((e=>`<li>${e}</li>`)).join("\n")}\n                        </ul>`:""}\n                    </div>`:""}\n    `}async displayNotifiedSubmission(){try{if(!this.notifiedResponse)throw new Error("System Error at Notified Handler.");if(this.notifiedResponse.code>=400||this.notifiedResponse.statusCode>=400){if(422!==this.notifiedResponse.code)throw new Error("Notified Error.");const{successfulRegistrationEvents:e,failedRegistrationEvents:t,alreadyRegisteredEvents:i,webinarType:n}=this.notifiedResponse.errors.errors;throw new Error("Notified Error.",{cause:{webinarType:n,successfulEvents:e,failedEvents:t,repeatedEvents:i}})}this.form.interactionObj.form.emit("submission-success",this.form.interactionObj),this.form.submissionSuccess()}catch(e){if(console.error(e),e instanceof Error&&"Notified Error."===e.message)if(e.cause){const{webinarType:t,successfulEvents:i,failedEvents:n,repeatedEvents:s}=e.cause;this._createNotifiedErrorMessage({webinarType:t,successfulRegistrationList:i,failedRegistrationList:n,repeatedRegistrationList:s})}else this._createNotifiedErrorMessage();this.form.interactionObj.form.emit("submission-fail",this.form.interactionObj)}}}t.default=i},340:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.conditionalRecaptcha=t.registerRecaptcha=void 0,window.formsMeta=window.formsMeta||[];t.registerRecaptcha=(e,t,i)=>{let n,s=e=>{},r=()=>{},o="";return window.formsMeta.push({type:"recaptcha",hl:i,captchaTrigger:()=>{n=window.grecaptcha.render(`recaptcha-${e}`,{sitekey:t,hl:i,callback:e=>{o=e,s(e)},"expired-callback":()=>{o=""},"error-callback":()=>{r()},size:"invisible"})}}),{exec:async function(){return""===o?(await window.grecaptcha.execute(n),new Promise(((e,t)=>{s=e,r=t}))):Promise.resolve(o)},reset:()=>{window.grecaptcha.reset(n),o=""}}};t.conditionalRecaptcha=function(e,i){const n=(0,t.registerRecaptcha)(i.uniqueId,i.recaptchaSiteKey,i.recaptchaLang);return async function(t,i,s){try{const r=await n.exec();await e.call(this,t,i,{...s,"Recaptha-Key":r}),n.reset()}catch(e){console.error(e)}}}},376:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class i{static instance;form;semrResponse;constructor(e,t){if(i.instance)return i.instance;this.form=e,this.semrResponse=t}_createSemrErrorMessage(e){const t=e.reduce(((e,t)=>e+`\n        <div>${t} </div>\n        `),"");this.form.formElem.getElementsByClassName("submission-error-message")[0].innerHTML+=t}displaySemrSubmission(){try{if(!this.semrResponse)throw new Error("System Error at SEMR Handler.");if(200===this.semrResponse.code)return this.form.interactionObj.form.emit("submission-success",this.form.interactionObj),void this.form.submissionSuccess();throw new Error(this.semrResponse.errors)}catch(e){if(console.error(e),e instanceof Error){const t=e.message?JSON.parse(e.message):[this.form.labels.generalError||this.form.englishLabels.generalError];t&&this._createSemrErrorMessage(t)}this.form.interactionObj.form.emit("submission-fail",this.form.interactionObj)}}}t.default=i},580:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});const constants_1=__webpack_require__(196),EXTRA_LOGIC_JOIN_MAP={OR:"||",AND:"&&"};class ConditionalLogic{build;nonHiddenInputs;allElementsBy;hiddenByLogic;validations;inputsWithValidation;logic;connection;optionLists;constructor(e,t,i,n,s){this.validations=n,this.allElementsBy=t,this.hiddenByLogic=i,this.build=e,this.optionLists=s,this.nonHiddenInputs=e.filter((e=>!0!==e.hidden)),this.inputsWithValidation=e.filter((e=>constants_1.elementsTypesWithConditionalLogic.includes(e?.type))),this.initiateConditionalLogic()}shouldApplyStatement(fieldValues,conditionType,conditionValue){if(!conditionValue)return eval(`${conditionType}==${fieldValues[0]}`);const selectionLogicValues=new Set(conditionValue.split(","));let apply=!1;return"any"===conditionType?apply=fieldValues.some((e=>selectionLogicValues.has(e))):"all"===conditionType&&(apply=fieldValues.every((e=>selectionLogicValues.has(e)))),apply}shouldApplyLogic(logic,values){if(logic.extra.length>1)throw Error("We don't support extra logic more than on 1");let extraStmt="";if(logic.extra.length){const e=logic.extra[0];extraStmt=`${EXTRA_LOGIC_JOIN_MAP[e.join]}${this.shouldApplyStatement(this.collectValues(e.source),e.condition,e.value)}`}const mainStmt=this.shouldApplyStatement(values,logic.if.condition,logic.if.value);try{return eval(`${mainStmt}${extraStmt}`)}catch{throw Error("join logic set up wrong")}}applyLogic(){this.nonHiddenInputs.forEach((({id:e})=>{const t=this.allElementsBy[e];t&&(this.hiddenByLogic.has(e)?(this.validations._hideValidations(e),this.hideElement(t.node)):this.showElement(t.node))}))}collectValues(e){const t=[],i=this.allElementsBy[e],n=i.children;if("checkbox"===i?.type)Array.prototype.push.apply(t,n.filter(this._isChecked).map((e=>e.value)));else if("radio-button"===i?.type){const e=n.find(this._isChecked);e&&t.push(e.value)}else"dropdown"===i?.type?t.push(i.node.value):"single-line-checkbox"===i?.type&&t.push(i.node.checked+"");return t}handleLogic(e,t){if(e&&e.length){const i=this.collectValues(t);e.forEach((e=>{const t=this.shouldApplyLogic(e,i);e.then.forEach((e=>{const i=e.value.split(",");"hide"===e.action?t?i.forEach(this.hiddenByLogic.add,this.hiddenByLogic):i.forEach(this.hiddenByLogic.delete,this.hiddenByLogic):"show"===e.action&&(t?i.forEach(this.hiddenByLogic.delete,this.hiddenByLogic):i.forEach(this.hiddenByLogic.add,this.hiddenByLogic))}))}))}}hideElement(e){const t=e.parentElement;if(t.classList.contains("hide"))return;t.classList.add("hide");const i=t.parentElement;Array.from(i.children).every((e=>e.classList.contains("hide")))&&i.classList.add("hide")}showElement(e){const t=e.parentElement;if(!t.classList.contains("hide"))return;t.classList.remove("hide");const i=t.parentElement;Array.from(i.children).some((e=>!e.classList.contains("hide")))&&i.classList.remove("hide")}_isChecked(e){return e.checked}generateLogic(e){const t={};for(let i=0;i<this.build.length;i++){const n=this.build[i];n.name&&n?.[e]?.length&&(t[n.id]=n[e])}return t}initiateConditionalLogic(){this.generateLogicMeta(),this.inputsWithValidation.forEach((e=>{this.handleLogic(this.logic[e.id],e.id),this.handleLogic(this.connection[e.id],e.id)})),this.applyLogic()}generateLogicMeta(){this.logic=this.generateLogic("logic"),this.connection=this.generateLogic("connection")}applySpecificFieldChange(e){this.handleLogic(this.logic[e],e),this.handleLogic(this.connection[e],e),this.applyLogic()}handleOptionChange(e){const t=this.connection[e];if(t&&t.length){const i=[],n=this.allElementsBy[e];"dropdown"===n?.type&&i.push(n.node.value);const s=new Map;t.forEach((e=>{const t=this.shouldApplyStatement(i,e.if.condition,e.if.value);e.then.forEach((e=>{"changeOptions"===e.action&&t&&s.set(e.value,this.optionLists[e.optionsId])}))})),this.applyOptions(s)}}applyOptions(e){Array.from(e).forEach((([e,t])=>{this.allElementsBy[e].node.innerHTML=t.map((e=>`<option value="${e.value}">${e?.label}</option>`)).join("\n")}))}}exports.default=ConditionalLogic},196:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.elementsTypesWithConditionalLogic=t.multiInputElements=t.textInputElements=void 0,t.textInputElements=["single-line-text","multi-line-text","email"],t.multiInputElements=["checkbox","radio-button"],t.elementsTypesWithConditionalLogic=[...t.multiInputElements,"dropdown","single-line-checkbox"]},64:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setOverrides=void 0;const n=i(632),s={tactic:!0,campaign_name:!0,utm_medium:!0,utm_campaign:!0,utm_source:!0,utm_content:!0,utm_term:!0};t.setOverrides=(e,t)=>{const i=window.fbaOverrides||{},r=Object.fromEntries(new URLSearchParams(window.location.search));e.forEach((e=>{const o=t[e]?.node;if("hidden"===o?.type){let e;i[o.name]&&(o.value||(e=i[o.name]));const t=o.dataset.jsQso;if(r[t])e=r[t];else if(s[o.name]){const t=(0,n.getCookie)(o.name);t&&(e=t)}e&&(o.value=e)}}))}},704:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FormApi=t.formsApi=t.FormsApi=void 0;const r=i(68),o=i(632);class a extends o.EventEmitter{#e;constructor(){super(),this.#e=new Map}getFormOptions(){return[...this.#e.values()].map((e=>e.uniqueId))}getFormByUniqueId(e){return this.#e.get(e)||null}set(e,t){return this.#e.set(e,t)}get(e){return this.#e.get(e)}}t.FormsApi=a,t.formsApi=new a;let l=class extends o.EventEmitter{_nodes;formId;formData;allElementsBy;allInputs;tracking;#t;constructor(e,{formElem:t,onChange:i}){super(),this.formData=new FormData(t);const n=e.form;this.formId=n.id,this.allInputs=n.build.filter((e=>!["submit","paragraph","heading","horizontal-line","disclaimer"].includes(e?.type))),this.formData.delete("g-recaptcha-response"),this.allElementsBy=this.generateMetadataById(n.build,t),this._nodes=this.inputsByName(),this.#t=i}set(e,t){if("single-line-checkbox"===this._nodes[e]?.type){const i=("string"==typeof t?"true"===t:t)?"on":null,n=this._nodes[e].nodes[0];return n.checked=!!i,this.#t(n),this.formData.set(e,i)}if(this.formData.has(e)){if(1===this._nodes[e].nodes.length){const i=this._nodes[e].nodes[0];this._nodes[e].nodes[0].value=t,this.#t(i)}else this._nodes[e].nodes.forEach((e=>{e.checked=e.value===t,this.#t(e)}));return this.formData.set(e,t)}this.tracking.warn(`Unable to set value of ${e}`)}append(e,t){if(!e.endsWith("[]"))return this.tracking.warn(`Unable to set Multiple values on ${e}`),!1;if(this.formData.has(e)){const i=this._nodes[e].nodes.find((e=>e.value===t));return i?(i.checked=!0,this.#t(i),this.formData.append(e,t),!0):(this.tracking.warn(`That option doesn't exist ${e}`),!1)}return this.tracking.warn(`Unable to append value of ${e}`),!1}get(e){return this.formData.get(e)}getAll(e){return this.formData.getAll(e)}has(e){return this.formData.has(e)}values(){return this.formData.values()}entries(){return this.formData.entries()}keys(){return this.formData.keys()}generateMetadataById=(e,t)=>{const i={};return e.forEach((e=>{const n=t.querySelector(`#e-${this.formId}-${e.id}`),s=t.querySelector(`#message-${this.formId}-${e.id}`);n&&(i[e.id]={type:n.dataset?.type,node:n,children:[...n.querySelectorAll("input,select")],errorMessageElem:s,fieldConfig:e})})),i};inputsByName(){const e={};return this.allInputs.forEach((t=>{const i=this.allElementsBy[t.id];"FIELDSET"===i.node.tagName?"phone"===i.type?(e[i.children[0]?.name||""]={type:i.type,nodes:[i.children[0]]},e[i.children[1]?.name||""]={type:i.type,nodes:[i.children[1]]}):e[i.children[0]?.name||""]={type:i.type,nodes:i.children}:e[i.node.name]={type:i.type,nodes:[i.node]}})),e}emit(e,...i){t.formsApi.emit(e,...i),super.emit(e,...i)}};t.FormApi=l,t.FormApi=l=n([r.nrSetup,s("design:paramtypes",[Object,Object])],l)},716:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.microAgent=t.phoneLib=void 0;t.phoneLib=new class{module;retrieve(){Promise.resolve().then(i.bind(i,156)).then((e=>i.t(e,22))).then((e=>this.module=e))}get(){return this.module}},t.microAgent=new class{module;retrieve(){return Promise.resolve().then(i.bind(i,96)).then((e=>i.t(e,22))).then((e=>this.module=e))}get(){return this.module}}},68:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.nrSetup=t.nrEvent=t.newRelicTrackingManager=t.NewRelicTracking=void 0;const n=i(716);class s{nrTrack;verbose=!0;info=console.info;error=console.error;trace=console.trace;warn=console.warn;debug=console.debug;constructor({applicationID:e,verbose:t,formID:i}){this.verbose=t,n.microAgent.retrieve().then((n=>{this.nrTrack=n.startTracking({name:"form-builder",applicationID:e}),["info","error","trace","warn","debug"].forEach((e=>{t||(this[e]=()=>{}),this.nrTrack.wrapLogger(this,e,{customAttributes:{formID:i},level:e})}))}))}addPageAction(e,t){this.nrTrack.addPageAction(e,t)}noticeError(e){this.nrTrack.noticeError(e)}}t.NewRelicTracking=s;t.newRelicTrackingManager=new class{nrTrack={};get(e){return this.nrTrack[e.formID]||(this.nrTrack[e.formID]=new s(e)),this.nrTrack[e.formID]}},t.nrEvent=function(e,t,i){const n=i.value;i.value=function(...e){const t=e[0],i=this.tracking,s=t.currentTarget,r=t.target,o={form:s?.className,target:r?.id,version:s.dataset.version};i.addPageAction(t.type,o);try{return n.apply(this,e)}catch(e){i.noticeError(e)}}},t.nrSetup=function(e){return new Proxy(e,{construct(e,i){const n=i[0]?.form,s=n.settings?.newRelicApplicationID,r=Reflect.construct(e,i);if(!s)return console.warn("Unable to find new relic ApplicationID"),r;if(r.tracking=t.newRelicTrackingManager.get({applicationID:s,verbose:i[0].verbose,formID:n.id}),r.fetch){const e=r.fetch;r.fetch=async function(t,i){r.tracking.nrTrack.start();try{const n=await e(t,i);return r.tracking.info("Successfully submitted"),n}catch(e){throw r.tracking.errorNotice(e),e}finally{r.tracking.nrTrack.finished()}}}return r}})}},952:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._generateDataValue=t.removeEmojis=t.sanitizeBody=void 0;const n=i(196),s=i(716);t.sanitizeBody=(e,i)=>{const s={};return e.forEach((e=>{const r=e.name,o=i[r];if(n.textInputElements.includes(e?.type)){let i=(0,t.removeEmojis)(o.trim().replace(/\x7F/g,""));"single-line-text"===e?.type&&(i=i.replace(/[<>"']/g,"")),s[r]=i}else s[r]=o})),s};t.removeEmojis=function(e){return e.replace(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,"")};t._generateDataValue=(e,t)=>{const{type:i,name:n,hidden:r}=e;if("single-line-checkbox"===i){const{trulyValue:i,stringValue:s,falsyValue:r}=e,o="on"===t.get(n);return s?o?i:r:o+""}if("checkbox"===i)return(t.getAll(`${n}[]`)||[]).toString();if("number"===i){const e=+t.get(n);return isNaN(e)?0:e}if("phone"===i){if(r)return t.get(n);const[e]=t.get(`${n}-country-code`).split("-"),i=t.get(n);return s.phoneLib.get().getUnformattedNumber(e,i)}return t.get(n)}},668:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleSubmissionResponse=void 0;const s=n(i(576)),r=n(i(376));t.handleSubmissionResponse=function(e,t,i){const n=i.value;return i.value=async function(...e){const t=e[1],i=await n.apply(this,e);if("notified"===this.provider){new s.default(this,i).displayNotifiedSubmission()}else if("semr"===this.provider){new r.default(this,i).displaySemrSubmission()}else this.interactionObj.form.emit("submission-success",this.interactionObj),this.submissionSuccess();return t.disabled=!1,i},i}},632:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=t.getCookie=t.escape=t._setupPageUrlField=t.getElementContainingId=void 0;t.getElementContainingId=e=>e.closest("fieldset")||e;t._setupPageUrlField=e=>{const t=e.querySelector('[name="pageURL"]');t&&(t.value=window.location.href)};t.escape=e=>e.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1");t.getCookie=e=>{const i=document.cookie.match(RegExp("(?:^|;\\s*)"+(0,t.escape)(e)+"=([^;]*)"));return i?i[1]:null};t.EventEmitter=class{#i=[];emit(e,...t){this.#i.filter((({name:t})=>t===e)).forEach((({callback:e})=>setTimeout((()=>e.apply(this,t)),0)))}on(e,t){"function"==typeof t&&"string"==typeof e&&this.#i.push({name:e,callback:t})}off(e,t){this.#i=this.#i.filter((i=>!(i.name===e&&i.callback===t)))}destroy(){this.#i.length=0}}},536:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(196);t.default=class{allElementsBy;constructor(e){this.allElementsBy=e}getReportNode=({type:e,node:t})=>n.multiInputElements.includes(e)?t.children?.[0]:t;_showValidations=(e,t)=>{const i=this.getReportNode(this.allElementsBy[e]),n=this.allElementsBy[e].errorMessageElem;n&&(n.innerText=t,n.classList.remove("hide")),i?.setAttribute("area-invalid","true")};_hideValidations=e=>{const t=this.getReportNode(this.allElementsBy[e]),i=this.allElementsBy[e].errorMessageElem;i&&(i.innerText="",i.classList.add("hide")),t?.removeAttribute("area-invalid")}}},156:(e,t,i)=>{var n=new Error;e.exports=new Promise(((e,t)=>{if("undefined"!=typeof ctryPhoneLib)return e();i.l("https://assets.bbhub.io/form-builder-api/lib/ctry-phone-lib.latest.min.js",(i=>{if("undefined"!=typeof ctryPhoneLib)return e();var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;n.message="Loading script failed.\n("+s+": "+r+")",n.name="ScriptExternalLoadError",n.type=s,n.request=r,t(n)}),"ctryPhoneLib")})).then((()=>ctryPhoneLib))},96:(e,t,i)=>{var n=new Error;e.exports=new Promise(((e,t)=>{if("undefined"!=typeof nrMicroAgent)return e();i.l("https://assets.bbhub.io/form-builder-api/lib/nr-micro-agent.latest.min.js",(i=>{if("undefined"!=typeof nrMicroAgent)return e();var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;n.message="Loading script failed.\n("+s+": "+r+")",n.name="ScriptExternalLoadError",n.type=s,n.request=r,t(n)}),"nrMicroAgent")})).then((()=>nrMicroAgent))}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var i=Object.create(null);__webpack_require__.r(i);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var s=2&t&&e;"object"==typeof s&&!~leafPrototypes.indexOf(s);s=getProto(s))Object.getOwnPropertyNames(s).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,__webpack_require__.d(i,n),i},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="@wmkt/form-builder-template:",__webpack_require__.l=(e,t,i,n)=>{if(inProgress[e])inProgress[e].push(t);else{var s,r;if(void 0!==i)for(var o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var l=o[a];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+i){s=l;break}}s||(r=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",dataWebpackPrefix+i),s.src=e),inProgress[e]=[t];var c=(t,i)=>{s.onerror=s.onload=null,clearTimeout(d);var n=inProgress[e];if(delete inProgress[e],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(i))),t)return t(i)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=c.bind(null,s.onerror),s.onload=c.bind(null,s.onload),r&&document.head.appendChild(s)}},__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(844)})();