!function(){"use strict";function e(){document.querySelectorAll(".polyv-poster-image,.bbg-polyv,.pv-video-player").forEach(function(e){e.style.height=(9*e.offsetWidth/16).toString()+"px",e.querySelectorAll("div")[0].style.height="100%"}),document.querySelectorAll(".bbg-polyv iframe").forEach(function(e){e.parentElement.style.height="100%"})}window.__bbVideoPlugin=window.__bbVideoPlugin||{},window.__bbVideoPlugin.getAncestor=function(e,t){for(e=e&&e.parentNode;e;){if(t(e))return e;e=e.parentNode}return null},window.__bbVideoPlugin.getScript=function(e,o){var i,t;document.querySelector('script[src="'+e+'"]')?setTimeout(o,0):(i=document.createElement("script"),t=document.getElementsByTagName("script")[0],i.async=1,i.onload=i.onreadystatechange=function(e,t){!t&&i.readyState&&!/loaded|complete/.test(i.readyState)||(i.onload=i.onreadystatechange=null,i=void 0,!t&&o&&setTimeout(o,0))},i.src=e,t.parentNode.insertBefore(i,t))},window.__bbVideoPlugin=window.__bbVideoPlugin||{},window.dataLayer=window.dataLayer||[],window.__bbVideoPlugin.gtmCache={},window.__bbVideoPlugin.trackVideoEvent=(e,t,o)=>{window.dataLayer.push({bvpEventCategory:"video",event:"bvpTrackVideo",mediaTitle:t,bvpEventAction:e,bvpEventLabel:o})},window.__bbVideoPlugin.clearProgressInterval=e=>{const t=window.__bbVideoPlugin.gtmCache;t[e]&&(clearInterval(t[e]),t[e]=null)},window.__bbVideoPlugin.addGtmTrackingForHtmVideo=function(b,v){b&&v&&function(){const t=b;var e=v;const{mediaTitle:o="",autoPlay:i="",uniqueId:r}=e;if(1!==i&&"true"!==i){const d=window.__bbVideoPlugin.trackVideoEvent,l=window.__bbVideoPlugin.clearProgressInterval,s=window.__bbVideoPlugin.gtmCache,u=r+"_progress",c=r+"_intervalId";var a=r+"_info";function n(){var e=Math.floor((10+100*(t.currentTime||0))/(t.duration||1)/25);(s[u]||0)!==e&&(d("completion",o,25*e),s[u]=e),4!==e||i||l(c)}s[r]=null,s[u]=null,s[c]=null,s[a]=[t,e],t.addEventListener("loadeddata",()=>{t.addEventListener("play",()=>{var e="play",t=s[r]?"activated":"initial";s[r]=e,d(e,o,t),s[c]||(s[c]=setInterval(()=>{n()},500))}),t.addEventListener("pause",()=>{d("pause",o,"content"),n(),l(c)}),t.addEventListener("progress",()=>{n()}),t.addEventListener("timeupdate",()=>{n()})})}}()},function(){for(var e=function(e){e.preventDefault();var l=e.target;window.__bbVideoPlugin.getScript("https://cdn.gotraffic.net/projector/latest/bplayer.js",function(){var e=l.hasAttribute("data-id")?l.getAttribute("data-id"):"",t=l.hasAttribute("data-type")?l.getAttribute("data-type"):"",o=!!l.getAttribute("data-live"),i=l.hasAttribute("data-poster")?l.getAttribute("data-poster"):"",r=window.__bbVideoPlugin.getAncestor(l,function(e){return e.classList.contains("bloomberg-video")});if(r&&r.hasAttribute("id")){r=r.getAttribute("id");if(e&&!l.previousElementSibling){r={id:e,live:o,htmlChildId:r+"__player",autoplay:!0,module_ad_player:"disabled",use_google_tag_manager:!0,serverUrl:"//www.bloomberg.com/multimedia/api/embed"};t&&(r.type=t),i&&(r.poster=i);for(var a=document.querySelectorAll('.bloomberg-video[data-service^="bloomberg-"]'),n=0;n<a.length;n++){var d=a[n].hasAttribute("id")?a[n].getAttribute("id"):"",d=BPlayer.getPlayer(d+"__player");d&&d.pause()}i=document.createElement("div");i.setAttribute("class","bloomberg-video__embed"),l.parentNode.insertBefore(i,l.parentNode.firstChild),BPlayer.create(i,r)}}})},t=document.querySelectorAll('.bloomberg-video[data-service^="bloomberg-"] .bloomberg-video__link'),o=0;o<t.length;o++)t[o].addEventListener("click",e)}(),function(){function e(e){e.preventDefault(),e.target.previousElementSibling&&e.target.previousElementSibling.remove();var t=e.target.dataset.cmpId,o=e.target.dataset.accessToken;const i=["bloomberg-video__embed","cmp_embed","cmp_async_"+t],r=document.createElement("div");r.id="cmp-video-"+e.target.parentNode.parentNode.id.split("-")[2],r.setAttribute("class",i.join(" ")),e.target.parentNode.insertBefore(r,e.target.parentNode.firstChild);e=document.cookie.split(";").reduce(function(e,t){t=t.split("=");return e[t[0].trim()]=decodeURIComponent(t[1]),e},{}),e=e._ga||"";r.innerHTML=`<iframe type="text/javascript" src='${`https://www.bloomberg.com/media-manifest/embed/asset/iframe?autoplay=true&disableCmp=true&module_ad_player=disabled&client=BPS_WEB&userId=ga%3A${e}&accessKey=${o}&distributions=SEMR_WEB&idType=AVMM&id=${t}&serviceEnv=production`}' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder="0"></iframe>`}for(var t=document.querySelectorAll('.bloomberg-video[data-service="cmp-video"] .bloomberg-video__link'),o=0;o<t.length;o++)t[o].addEventListener("click",e)}(),function(){for(var e=function(e){e.preventDefault();var t,o,i=e.target,r=window.__bbVideoPlugin.getAncestor(i,function(e){return e.classList.contains("bloomberg-video")});null!==r&&(t=i.hasAttribute("title")?i.getAttribute("title"):"",""!==(e=i.hasAttribute("data-embed-url")?i.getAttribute("data-embed-url"):"")&&((o=r.querySelector(".bloomberg-video__embed"))&&(o.style.transition="opacity 300ms linear",o.style.opacity="1",setTimeout(function(){o.style.opacity="0"},0),setTimeout(function(){o.remove()},300)),(r=document.createElement("iframe")).setAttribute("class","bloomberg-video__embed"),r.setAttribute("src",e),r.setAttribute("title",t),r.setAttribute("frameborder","0"),r.setAttribute("webkitallowfullscreen",""),r.setAttribute("mozallowfullscreen",""),r.setAttribute("allowfullscreen",""),r.setAttribute("allow","autoplay"),i.parentNode.insertBefore(r,i)))},t=['.bloomberg-video[data-service="cinchcast-video"] .bloomberg-video__link','.bloomberg-video[data-service="youku-video"] .bloomberg-video__link','.bloomberg-video[data-service="sparkstreetdigital-video"] .bloomberg-video__link','.bloomberg-video[data-service="vimeo-livestream"] .bloomberg-video__link'].join(","),o=document.querySelectorAll(t),i=0;i<o.length;i++)o[i].addEventListener("click",e)}(),function(){function e(e){e.preventDefault(),e.target.previousElementSibling&&e.target.previousElementSibling.remove();var i=e.target.dataset.kalturaId,t=["bloomberg-video__embed","kaltura_embed","kaltura_async_"+i],r=document.createElement("div");r.id="kaltura-video-"+e.target.parentNode.parentNode.id.split("-")[2],r.setAttribute("class",t.join(" ")),e.target.parentNode.insertBefore(r,e.target.parentNode.firstChild);e=document.cookie.split(";").reduce(function(e,t){t=t.split("=");return e[t[0].trim()]=decodeURIComponent(t[1]),e},{}),e={action:"start_session",user_id:e._ga||"",entry_id:i,_ajax_nonce:bbg_video_data.session_nounce};fetch(bbg_video_data.ajax_url,{method:"POST",body:new URLSearchParams(e)}).then(e=>e.json()).then(e=>{var{partnerId:t,uiconfId:o,ks:e}=e.data;r.innerHTML=`<iframe type="text/javascript" src='https://cdnapisec.kaltura.com/p/${t}/sp/${t}00/embedIframeJs/uiconf_id/${o}?iframeembed=true&entry_id=${i}&config[playback]={"autoplay":true}&flashvars[ks]=${e}' allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder="0"></iframe>`}).catch(e=>{console.error("Error:",e)})}for(var t=document.querySelectorAll('.bloomberg-video[data-service="kaltura-video"] .bloomberg-video__link'),o=0;o<t.length;o++)t[o].addEventListener("click",e)}(),Array.from(document.querySelectorAll(".polyv-poster-image")).forEach(function(t){var o=t.getAttribute("id").substring(13);t.addEventListener("click",function(){t.style.display="none";var e=document.getElementById("polyv-"+o);e.classList.remove("hide-video"),e.querySelector(".pv-icon-btn-play").click()})}),Array.from(document.querySelectorAll(".bbg-polyv")).forEach(function(o){window.polyvPlayer({wrap:"#"+o.getAttribute("id"),vid:o.getAttribute("videoid"),loop:parseInt(o.getAttribute("loop")),skinLocation:parseInt(o.getAttribute("skinlocation"))}),"true"===o.getAttribute("autoplay")&&setTimeout(function(){var e=o.querySelector("video"),t=setInterval(function(){if(0===e.currentTime)try{o.querySelector(".pv-volumebtn").click(),e.play()}catch(e){window.console.log(e)}else clearInterval(t)},200)},0);var e={mediaTitle:(o.dataset||{}).mediaTitle,uniqueId:o.getAttribute("id"),autoPlay:"true"===o.getAttribute("autoplay")?1:0};window.__bbVideoPlugin.addGtmTrackingForHtmVideo(o.querySelector("video"),e)}),window.onresize=e,window.addEventListener("DOMContentLoaded",e),function(){for(var e=function(e){e.preventDefault();var t,o,i=e.target,r=window.__bbVideoPlugin.getAncestor(i,function(e){return e.classList.contains("bloomberg-video")});null===r||""!==(t=i.hasAttribute("data-embed-url")?i.getAttribute("data-embed-url"):"")&&((o=r.querySelector(".bloomberg-video__embed"))&&(o.style.transition="opacity 300ms linear",o.style.opacity="1",setTimeout(function(){o.style.opacity="0"},0),setTimeout(function(){o.remove()},300)),(e=document.createElement("video")).setAttribute("class","bloomberg-video__embed"),e.setAttribute("src",t),e.setAttribute("controls","true"),e.setAttribute("autoplay","true"),i.parentNode.insertBefore(e,i),r={mediaTitle:(i.dataset||{}).videoTitle,uniqueId:r.id,autoPlay:1},window.__bbVideoPlugin.addGtmTrackingForHtmVideo(e,r))},t=document.querySelectorAll('.bloomberg-video[data-service="manual-video-upload"] .bloomberg-video__link'),o=0;o<t.length;o++)t[o].addEventListener("click",e)}(),function(){var e=document.querySelector('meta[name="theme-color"]')||"",l="test";function s(e,t,o,i){window.dataLayer&&window.dataLayer.push({event:"vimeo",eventCategory:e,eventAction:t,videoOrientation:o,eventLabel:i})}function t(e){e.preventDefault();var r=e.target,e=r.getAttribute("data-video-title")||"",a=r.getAttribute("data-video-id")||"";let n=r.getAttribute("data-orientation")||"",d=e+" | "+a;window.__bbVideoPlugin.getScript("https://player.vimeo.com/api/player.js",function(){r.previousElementSibling&&r.previousElementSibling.remove();var e,t,o,i=document.createElement("div");i.setAttribute("class","bloomberg-video__embed"),r.parentNode.insertBefore(i,r.parentNode.firstChild),""!==a&&(e={id:a,portrait:!1,title:!1,byline:!1,autoplay:1,dnt:1},"1"===r.getAttribute("data-video-loop")&&(e.loop=!0),!1!==l&&(e.color=l),t=new Vimeo.Player(i,e),o=0,t.on("loaded",function(){s("Video","load",n,d)}),t.on("play",function(){s("Video","play",n,d),t.off("play")}),t.on("pause",function(){s("Video","pause",n,d),t.off("pause")}),t.on("timeupdate",function(e){var t=o;.25<=e.percent&&o<.25?o=.25:.5<=e.percent&&o<.5?o=.5:.75<=e.percent&&o<.75?o=.75:1===e.percent&&(o=1),t!==o&&s("Video","progress - "+100*o+"%",n,d)}))})}""!==e&&/^#([a-f\d]{3}){1,2}$/i.test(e.getAttribute("content"))&&(l=e.getAttribute("content").substring(1));for(var o=document.querySelectorAll('.bloomberg-video[data-service="vimeo-video"] .bloomberg-video__link'),i=0;i<o.length;i++)o[i].addEventListener("click",t);document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll('.bloomberg-video[data-service="vimeo-video"] .bloomberg-video__wrapper .bloomberg-video__embed, .bloomberg-video[data-service="vimeo-video"] .bloomberg-video__link');Array.from(e).forEach(function(t){var e=t.dataset.videoId;fetch(`https://vimeo.com/api/oembed.json?url=https://www.vimeo.com/${e}`).then(e=>e.json()).then(function(e){e=e.height/e.width*100;t.parentElement.style.paddingBottom=`${e}%`})})})}(),function(){function e(o){o.preventDefault();var i=o.target.dataset.wistiaId;window.__bbVideoPlugin.getScript("https://fast.wistia.com/assets/external/E-v1.js",function(){o.target.previousElementSibling&&o.target.previousElementSibling.remove();var e=["bloomberg-video__embed","wistia_embed","wistia_async_"+i];"yes"===o.target.dataset.muted&&e.push("volume=0"),"yes"===o.target.dataset.loop&&e.push("endVideoBehavior=loop"),o.target.dataset.playerColor&&e.push("playerColor="+o.target.dataset.playerColor);var t=document.createElement("div");t.setAttribute("class",e.join(" ")),o.target.parentNode.insertBefore(t,o.target.parentNode.firstChild),window._wq=window._wq||[],window._wq.push({id:i,onReady:function(o){o.bind("play",function(){for(var e=Wistia.api.all(),t=0;t<e.length;t++)e[t].hashedId()!==o.hashedId()&&e[t].pause()}),o.play()}})})}for(var t=document.querySelectorAll('.bloomberg-video[data-service="wistia-video"] .bloomberg-video__link'),o=0;o<t.length;o++)t[o].addEventListener("click",e)}(),function(){var d=0;function l(e,t,o){window.dataLayer&&window.dataLayer.push({event:"youtube",eventCategory:e,eventAction:t,eventLabel:o})}function s(i){i.preventDefault();var r,a=i.target,n=a.getAttribute("data-video-id")||"";window.__bbVideoPlugin.getScript("https://www.youtube.com/iframe_api",function(){var e,t,o;d++,"undefined"!=typeof YT&&YT.hasOwnProperty("Player")?(o=window.__bbVideoPlugin.getAncestor(a,function(e){return e.classList.contains("bloomberg-video")}))&&((e=document.querySelector('.bloomberg-video[data-service="youtube-video"] .bloomberg-video__embed'))&&(e.style.transition="opacity 300ms linear",e.style.opacity="1",setTimeout(function(){e.style.opacity="0"},0),setTimeout(function(){e.remove()},300)),t=(o.getAttribute("id")||"")+"-embed",(o=document.createElement("div")).setAttribute("class","bloomberg-video__embed"),o.setAttribute("id",t),a.parentNode.insertBefore(o,a.parentNode.firstChild),""!==n&&(o={playerVars:{listType:"playlist",list:n,rel:0},events:{onReady:function(e){e.target.playVideo()},onStateChange:function(e){var t=r.getVideoData().video_id,o=n+"|"+t;switch(e.data){case YT.PlayerState.BUFFERING:l("Playlist","load",o),l("Video","load",n);break;case YT.PlayerState.PLAYING:l("Playlist","play",o),l("Video","play",n);break;case YT.PlayerState.PAUSED:l("Playlist","pause",o),l("Video","pause",n);break;case YT.PlayerState.ENDED:l("Playlist","end",o),l("Video","end",n)}}}},a.hasAttribute("data-modestbranding")&&(o.playerVars.modestbranding=a.getAttribute("data-modestbranding")),a.hasAttribute("data-controls")&&(o.playerVars.controls=a.getAttribute("data-controls")),a.hasAttribute("data-playlist-starting-video")&&(o.videoId=a.getAttribute("data-playlist-starting-video")),r=new YT.Player(t,o))):d<=60&&setTimeout(function(){s(i)},100)})}for(var e=document.querySelectorAll('.bloomberg-video[data-service="youtube-playlist"] .bloomberg-video__link'),t=0;t<e.length;t++)e[t].addEventListener("click",s)}(),function(){var l=0;const s="youtube",u="Video";function c(e,t,o,i,r){window.dataLayer&&window.dataLayer.push({event:e,eventCategory:t,eventAction:o,videoOrientation:i,eventLabel:r})}function b(r){r.preventDefault();var a=r.target,n=a.getAttribute("data-video-id")||"";let d=a.getAttribute("data-orientation")||"";window.__bbVideoPlugin.getScript("https://www.youtube.com/iframe_api",function(){var e,t,o,i;l++,"undefined"!=typeof YT&&YT.hasOwnProperty("Player")?(o=window.__bbVideoPlugin.getAncestor(a,function(e){return e.classList.contains("bloomberg-video")}))&&((e=document.querySelector('.bloomberg-video[data-service="youtube-video"] .bloomberg-video__embed'))&&(e.style.transition="opacity 300ms linear",e.style.opacity="1",setTimeout(function(){e.style.opacity="0"},0),setTimeout(function(){e.remove()},300)),t=(o.getAttribute("id")||"")+"-embed",(i=document.createElement("div")).setAttribute("class","bloomberg-video__embed"),i.setAttribute("id",t),a.parentNode.insertBefore(i,a.parentNode.firstChild),""!==n&&(o={videoId:n,playerVars:{rel:0},events:{onReady:function(e){e.target.playVideo()},onStateChange:function(e){switch(e.data){case YT.PlayerState.BUFFERING:c(s,u,"load",d,n);break;case YT.PlayerState.PLAYING:c(s,u,"play",d,n);break;case YT.PlayerState.PAUSED:c(s,u,"pause",d,n);break;case YT.PlayerState.ENDED:c(s,u,"end",d,n)}}}},a.hasAttribute("data-modestbranding")&&(o.playerVars.modestbranding=a.getAttribute("data-modestbranding")),a.hasAttribute("data-controls")&&(o.playerVars.controls=a.getAttribute("data-controls")),!a.hasAttribute("data-start-time")||(i=parseInt(a.getAttribute("data-start-time")))&&(o.playerVars.start=i),new YT.Player(t,o))):l<=60&&setTimeout(function(){b(r)},100)})}for(var e=document.querySelectorAll('.bloomberg-video[data-service="youtube-video"] .bloomberg-video__link'),t=0;t<e.length;t++)e[t].addEventListener("click",b)}()}();